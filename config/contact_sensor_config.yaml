# ============================================================================
# Contact Sensor Hierarchical Configuration
# ============================================================================
#
# This configuration file defines a four-tier hierarchy for contact sensor
# notifications:
#
# 1. ENTITY-SPECIFIC OVERRIDES (Highest Priority)
#    - Apply to individual sensors
#    - Override area, floor, and global settings
#
# 2. AREA-LEVEL OVERRIDES (2nd Priority)
#    - Apply to all sensors in a specific area/room
#    - Examples: Kitchen, Bedroom, "Front Door"
#    - Override floor and global settings
#    - Overridden by entity-specific settings
#
# 3. FLOOR-LEVEL OVERRIDES (3rd Priority)
#    - Apply to all sensors on a specific floor/level
#    - Examples: Upstairs, Downstairs, "Ground Floor"
#    - Override global settings
#    - Overridden by area and entity-specific settings
#
# 4. GLOBAL DEFAULTS (Lowest Priority / Fallback)
#    - Apply to all sensors unless overridden
#    - Used when no floor, area, or entity-specific config exists
#
# HIERARCHY RESOLUTION ORDER:
# Entity-specific → Area-level → Floor-level → Global → Blueprint fallback
#
# ============================================================================


# ----------------------------------------------------------------------------
# GLOBAL DEFAULTS
# ----------------------------------------------------------------------------
# These settings apply to ALL contact sensors unless overridden by
# floor-level, area-level, or entity-specific configurations.
#
# Properties:
#   delay_minutes: How long the sensor must be open before alerting
#   critical: Whether to use critical notifications (iOS bypasses Do Not Disturb)
# ----------------------------------------------------------------------------

global_defaults:
  delay_minutes: 10
  critical: false


# ----------------------------------------------------------------------------
# FLOOR-LEVEL OVERRIDES
# ----------------------------------------------------------------------------
# Define different thresholds for entire floors/levels in your home.
# Floor names must match exactly with your Home Assistant floor names
# (case-sensitive).
#
# These provide a middle-ground between global defaults and specific areas.
# Use this to set different defaults for different levels of your home.
#
# Example use cases:
#   - Longer delays for upstairs bedrooms (sleeping area)
#   - Shorter delays for ground floor (entry level, more security-sensitive)
#   - Different settings for basement (less frequently used)
#
# The floor is determined by Home Assistant's floor assignment for the
# area that contains each sensor entity.
#
# NOTE: Areas in the "area_overrides" section will take precedence over
# floor settings, so you can have floor-wide defaults with room-specific
# exceptions.
# ----------------------------------------------------------------------------

floor_overrides:
  # Upper floors - Slightly longer delays (bedroom/sleeping areas)
  Upstairs:
    delay_minutes: 12
    critical: false

  # Main floor - Standard delays
  Downstairs:
    delay_minutes: 10
    critical: false

  # Ground floor - Could be more security-conscious
  "Ground Floor":
    delay_minutes: 8
    critical: false

  # Basement - Longer delays (less frequently accessed)
  Basement:
    delay_minutes: 20
    critical: false


# ----------------------------------------------------------------------------
# AREA-LEVEL OVERRIDES
# ----------------------------------------------------------------------------
# Define different thresholds and notification types for specific areas/rooms
# in your home. Area names must match exactly with your Home Assistant
# area names (case-sensitive).
#
# These take precedence over floor-level settings, allowing you to have
# floor-wide defaults with room-specific exceptions.
#
# Example use cases:
#   - Shorter delays for security-sensitive areas (entry points)
#   - Longer delays for frequently accessed areas (garage)
#   - Critical notifications for outdoor/external doors
#   - Specific climate control needs per room
#
# The area name is determined by Home Assistant's area assignment for
# each sensor entity.
# ----------------------------------------------------------------------------

area_overrides:
  # Entry/Security Areas - Critical and quick alerts (override floor defaults)
  "Front Door":
    delay_minutes: 5
    critical: true

  "Back Door":
    delay_minutes: 5
    critical: true

  # Climate Control - Moderate delays
  Kitchen:
    delay_minutes: 10
    critical: false

  "Master Bedroom":
    delay_minutes: 15
    critical: false

  "Living Room":
    delay_minutes: 15
    critical: false

  # Less Critical Areas - Longer delays
  Garage:
    delay_minutes: 30
    critical: false

  # Outdoor/External - Critical notifications
  Patio:
    delay_minutes: 10
    critical: true


# ----------------------------------------------------------------------------
# ENTITY-SPECIFIC OVERRIDES
# ----------------------------------------------------------------------------
# Define custom settings for individual sensors. These override area-level,
# floor-level, and global defaults.
#
# Entity IDs must match exactly with your Home Assistant entity IDs.
#
# Example use cases:
#   - Fridge/freezer doors (very short delays, critical)
#   - Medicine cabinets (security/safety critical)
#   - Pet doors (longer delays, less critical)
#   - Mailbox sensors (moderate delay)
#   - Safe/valuables (immediate, critical)
#
# TIP: Use entity-specific overrides sparingly. Most sensors should
# inherit from area, floor, or global defaults for easier maintenance.
# ----------------------------------------------------------------------------

entity_overrides:
  # Appliances - Very short delays, critical
  binary_sensor.fridge_door:
    delay_minutes: 2
    critical: true

  binary_sensor.freezer_door:
    delay_minutes: 3
    critical: true

  # Security/Valuables - Immediate alerts
  binary_sensor.safe_door:
    delay_minutes: 1
    critical: true

  binary_sensor.medicine_cabinet:
    delay_minutes: 5
    critical: true

  # Utility - Longer acceptable delays
  binary_sensor.mailbox:
    delay_minutes: 120  # 2 hours - you might want it open for mail carrier
    critical: false

  binary_sensor.pet_door:
    delay_minutes: 30
    critical: false

  # Windows with specific requirements
  binary_sensor.bathroom_window:
    delay_minutes: 20  # Longer delay for ventilation
    critical: false

  binary_sensor.bedroom_window:
    delay_minutes: 10
    critical: false


# ============================================================================
# USAGE EXAMPLES
# ============================================================================
#
# Example 1: Front door sensor (Area override)
# ---------------------------------------------
# Entity: binary_sensor.front_door
# Area: "Front Door"
# Floor: Downstairs
#
# Resolution:
# 1. Check entity_overrides → Not found
# 2. Check area_overrides["Front Door"] → Found!
#    → delay_minutes: 5, critical: true
# 3. (Floor and global defaults are ignored due to area-specific match)
#
# Result: Alert after 5 minutes with critical notification
#
#
# Example 2: Fridge door sensor (Entity override)
# ------------------------------------------------
# Entity: binary_sensor.fridge_door
# Area: Kitchen
# Floor: Downstairs
#
# Resolution:
# 1. Check entity_overrides[binary_sensor.fridge_door] → Found!
#    → delay_minutes: 2, critical: true
# 2. (Area, floor, and global defaults are ignored due to entity-specific match)
#
# Result: Alert after 2 minutes with critical notification
#
#
# Example 3: Random window in living room (Area override)
# --------------------------------------------------------
# Entity: binary_sensor.living_room_window_2
# Area: "Living Room"
# Floor: Downstairs
#
# Resolution:
# 1. Check entity_overrides → Not found
# 2. Check area_overrides["Living Room"] → Found!
#    → delay_minutes: 15, critical: false
# 3. (Floor and global defaults are ignored due to area-specific match)
#
# Result: Alert after 15 minutes with standard notification
#
#
# Example 4: Generic bedroom window (Floor override)
# ---------------------------------------------------
# Entity: binary_sensor.guest_bedroom_window
# Area: "Guest Bedroom" (not in area_overrides)
# Floor: Upstairs
#
# Resolution:
# 1. Check entity_overrides → Not found
# 2. Check area_overrides["Guest Bedroom"] → Not found
# 3. Check floor_overrides["Upstairs"] → Found!
#    → delay_minutes: 12, critical: false
# 4. (Global default is ignored due to floor-specific match)
#
# Result: Alert after 12 minutes with standard notification
#
#
# Example 5: Sensor in unspecified area/floor (Global default)
# -------------------------------------------------------------
# Entity: binary_sensor.random_sensor
# Area: "Office" (not in area_overrides)
# Floor: "Second Floor" (not in floor_overrides)
#
# Resolution:
# 1. Check entity_overrides → Not found
# 2. Check area_overrides["Office"] → Not found
# 3. Check floor_overrides["Second Floor"] → Not found
# 4. Check global_defaults → Found!
#    → delay_minutes: 10, critical: false
#
# Result: Alert after 10 minutes with standard notification
#
# ============================================================================


# ============================================================================
# FUTURE ENHANCEMENTS (Architecture Ready)
# ============================================================================
#
# The configuration structure is designed to be extensible. Future versions
# may support additional properties such as:
#
# Temperature-based overrides:
#   - Allow longer delays if outdoor temp is comfortable
#   - Different thresholds based on indoor temp
#
# Example future config (DO NOT USE YET):
#
# entity_overrides:
#   binary_sensor.bedroom_window:
#     delay_minutes: 10
#     critical: false
#     temperature_rules:
#       - condition: outdoor_temp_between
#         min: 65
#         max: 75
#         delay_minutes: 30  # Allow window open longer in nice weather
#       - condition: indoor_temp_above
#         threshold: 78
#         delay_minutes: 20  # Allow window open for cooling
#
# Time-based overrides:
#   - Different delays during day vs night
#   - Vacation mode adjustments
#
# Presence-based overrides:
#   - More aggressive alerts when away
#   - Relaxed alerts when home
#
# ============================================================================


# ============================================================================
# MAINTENANCE TIPS
# ============================================================================
#
# 1. Start with good global defaults
#    - Most sensors should work well with the global config
#    - Adjust the global defaults first before adding overrides
#
# 2. Use floor overrides for broad categorization
#    - Set different defaults for different levels of your home
#    - Upstairs vs Downstairs, Ground Floor vs Basement, etc.
#    - Provides a good middle ground between global and area-specific
#
# 3. Use area overrides for specific rooms/spaces
#    - Group similar rooms/spaces with special requirements
#    - Consider security zones (entry points, outdoor, etc.)
#    - Think about climate control needs per room
#    - These override floor settings for specific rooms
#
# 4. Reserve entity-specific overrides for special cases
#    - Appliances with specific requirements
#    - High-security items (safes, medicine cabinets)
#    - Sensors with unusual behavior patterns
#
# 5. Understand the hierarchy benefits
#    - Floor overrides: Set "Upstairs" to 12 minutes for all bedrooms
#    - Area override: Set "Master Bedroom" to 15 minutes as exception
#    - This is cleaner than setting each bedroom individually
#
# 6. Document your reasoning
#    - Add comments explaining why you chose specific values
#    - Note any special circumstances
#
# 7. Test your configuration
#    - After making changes, test a few sensors
#    - Verify the hierarchy is working as expected
#    - Check notification timing and criticality
#    - Use Home Assistant's template developer tools to check which
#      floor/area a sensor belongs to
#
# 8. Review periodically
#    - Adjust thresholds based on real-world usage
#    - Remove overrides that are no longer needed
#    - Update as you add new sensors, areas, or floors
#
# ============================================================================
